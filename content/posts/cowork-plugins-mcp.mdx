---
title: "MCPプラグインで遊んでみた — Cloud SpannerにAIが直接SQLを投げる未来"
date: "2026-01-30"
description: "Coworkのプラグイン11種がオープンソース公開。早速カスタムプラグインを書いてみた"
tags: ["anthropic", "mcp", "ai-agents", "gcp"]
---

## MCPが気になりすぎて夜更かし

AnthropicがCowork用のプラグイン11種をオープンソースで公開した。GitHub見たら思ったよりシンプルな構造で、「これ自分でも書けるのでは」と思って手を動かし始めたら3時になってた。

MCPって要するに、AIエージェントが外部システムと通信するための標準規格。USB-Cみたいなもの。

## 実際にカスタムプラグインを書いてみた

公式のデータ分析プラグインをベースに、Cloud Spanner用のプラグインを書いてみた。

やりたかったこと:
- CoworkにBigQueryのダッシュボードURL渡す
- 「このデータの異常値を調査して」と依頼
- AIがSpannerにクエリ投げて分析してくれる

結果: **動いた。マジで動いた。**

Coworkが自分でSQLを組み立てて、Spannerにクエリを実行して、結果を要約してくれた。本番DBには絶対繋がないけど、開発環境なら普通に使える。

## 認証周りが課題

ただ、認証・認可の設計がまだ甘い。

今はサービスアカウントのキーをローカルに置いてるけど、本番運用するなら:
- AIエージェント専用のIAMロール
- 実行ログの監査
- 実行可能なクエリのホワイトリスト

このあたりが必要。でもそれって、今後絶対に必要になるスキルセットだよな。

## 来週の目標

ローカルの開発環境でMCPプラグイン動かして、運用タスクを自動化する実験をしてみる。
